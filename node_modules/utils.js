var fs = require('fs');

exports.saveToFile =  function(result, namePrefix){
    let lines = "";
    lines += "Sucess: "+result.success +  "\n";        
    lines += "Erros: "+result.errors + "\n";    
    lines += "Rate: "+result.rate + "\n";    
    lines += "Execution Time: "+result.executionTime + "\n";     
       
    
    lines += "Test;";
    lines += "Best Match;";
    lines += "Search Time;";                
    lines += "DTW\n";    

    result.matches.forEach(match => {
        lines += match.actualTest.label + ";";
        lines += match.bestMatch.label + ";";
        lines += match.searchTime + ";";                
        lines += match.dtw.toString().replace(".",",") + "\n";              
    });

    fs.writeFileSync("./_"+ namePrefix + ".csv", lines, function(err) {
        if(err) {
            return console.log("err");
        }
    });  
}
