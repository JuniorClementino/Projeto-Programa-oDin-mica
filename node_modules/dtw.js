const infinity = Number.MAX_SAFE_INTEGER;

// --- DTW Distance
exports.DTW = function(array1,array2){

    let l1 = array1.length;
    let l2 = array2.length;    

    let DTW = new Array(l1);

    for(let i=0; i<l1; i++)
        DTW[i] = new Array(l2);     

    for(let i=0; i<l1; i++)
        DTW[i][0] = infinity;   

    for(let i=1; i<l2; i++)
        DTW[0][i] = infinity;        

    DTW[0][0] = 0; 

    for(let i=1; i<l1; i++)
        for(let j=1; j<l2; j++){
            let cost = d(array1[i], array2[j]);
            DTW[i][j] = cost + minimum( DTW[i-1][j],   
                                        DTW[i][j-1],   
                                        DTW[i-1][j-1]);                                                             
    }     
    
    return DTW[l1-1][l2-1];
}


function minimum(a,b,c){
    let temp = Math.min(a, b);
    return Math.min(temp, c);    
}

function d(a,b){
    return Math.sqrt((a - b)*(a - b));    
}


